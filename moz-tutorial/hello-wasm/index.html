<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <title>hello-wasm example</title>
  </head>
  <body>
    <script type="module">
      import init, {Universe, get_string} from "./pkg/hello_wasm.js";
      init().then(() => {
        const canvas = document.getElementById("life-canvas");
        const u = Universe.new(1024, 1024);
        u.randomize(BigInt(0xcce));

        const renderLoop = () => {
          canvas.textContent = u.render();
          u.tick();

          requestAnimationFrame(renderLoop);
        };
        requestAnimationFrame(renderLoop);
      });
    </script>
    <pre id="life-canvas"></pre>
  </body>
</html>

